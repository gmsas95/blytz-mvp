# ===========================================
# Blytz Live Auction Platform - Production Environment
# ===========================================
# Copy this to your secrets manager and fill in all required values
# ===========================================

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
POSTGRES_USER=blytz
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_DB=blytz_prod

# Database Connection String
DATABASE_URL=postgres://blytz:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}?sslmode=require

# ===========================================
# AUTHENTICATION SECRETS
# ===========================================
# JWT Secret for API authentication (minimum 32 characters)
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters_long

# Better Auth Secret for session management (minimum 32 characters)  
BETTER_AUTH_SECRET=your_better_auth_secret_here_minimum_32_characters_long

# Better Auth URL for redirects
BETTER_AUTH_URL=https://api.blytz.app

# ===========================================
# FIUU PAYMENT GATEWAY CONFIGURATION
# ===========================================
# Get these from your Fiuu merchant dashboard at https://merchant.fiuu.com.my
FIUU_MERCHANT_ID=your_fiuu_merchant_id_here
FIUU_VERIFY_KEY=your_fiuu_verify_key_here

# Fiuu API Endpoints
FIUU_API_URL=https://api.merchant.fiuu.com.my
FIUU_SANDBOX_URL=https://sandbox.merchant.fiuu.com.my

# Fiuu Callback URLs (configure in Fiuu dashboard)
FIUU_RETURN_URL=https://blytz.app/checkout/success
FIUU_CALLBACK_URL=https://api.blytz.app/api/v1/payments/webhook/fiuu
FIUU_CANCEL_URL=https://blytz.app/checkout/cancel

# ===========================================
# FRONTEND CONFIGURATION
# ===========================================
# Public URLs (accessible from browser)
NEXT_PUBLIC_API_URL=https://api.blytz.app
NEXT_PUBLIC_APP_URL=https://blytz.app
NEXT_PUBLIC_WS_URL=wss://api.blytz.app

# ===========================================
# LIVEKIT CONFIGURATION (for live streaming)
# ===========================================
# Get these from your LiveKit dashboard at https://cloud.livekit.io
LIVEKIT_API_KEY=your_livekit_api_key_here
LIVEKIT_API_SECRET=your_livekit_api_secret_here
LIVEKIT_HOST=wss://blytz-app-xxxxx.livekit.cloud

# LiveKit Redis (internal)
LIVEKIT_REDIS_URL=redis://livekit-redis:6379

# ===========================================
# INTERNAL SERVICE URLS (Docker Network)
# ===========================================
# These are internal Docker service names - DO NOT CHANGE
AUTH_SERVICE_URL=http://auth-service:8084
PRODUCT_SERVICE_URL=http://product-service:8082
AUCTION_SERVICE_URL=http://auction-service:8083
ORDER_SERVICE_URL=http://order-service:8085
PAYMENT_SERVICE_URL=http://payment-service:8086
LOGISTICS_SERVICE_URL=http://logistics-service:8087
CHAT_SERVICE_URL=http://chat-service:8088

# ===========================================
# REDIS CONFIGURATION (internal)
# ===========================================
REDIS_URL=redis://redis:6379

# ===========================================
# PRODUCTION SETTINGS
# ===========================================
NODE_ENV=production
ENVIRONMENT=production

# Gateway Port
PORT=8080

# Frontend Mode (remote = use production APIs)
MODE=remote

# ===========================================
# OPTIONAL: EXTERNAL SERVICES
# ===========================================

# Email Service (for notifications)
SMTP_HOST=smtp.yourprovider.com
SMTP_PORT=587
SMTP_USER=your_email@domain.com
SMTP_PASSWORD=your_smtp_password
FROM_EMAIL=noreply@blytz.app

# File Storage (for product images, etc.)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=ap-southeast-1
AWS_S3_BUCKET=blytz-uploads

# Analytics (optional)
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
MIXPANEL_TOKEN=your_mixpanel_token

# ===========================================
# SECURITY SETTINGS
# ===========================================
# CORS Origins (comma-separated)
CORS_ORIGINS=https://blytz.app,https://www.blytz.app,https://demo.blytz.app,https://seller.blytz.app

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# MONITORING & LOGGING
# ===========================================
# Log Level (debug, info, warn, error)
LOG_LEVEL=info

# Sentry (error tracking - optional)
SENTRY_DSN=your_sentry_dsn_here

# Prometheus Metrics (optional)
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ===========================================
# DEVELOPMENT/DEBUG (set to false in production)
# ===========================================
DEBUG=false
ENABLE_SWAGGER=false
ENABLE_PROFILER=false

# ===========================================
# DEPLOYMENT SPECIFIC
# ===========================================
# Dokploy Settings
DOKPLOY_NETWORK=dokploy-network

# SSL/TLS
SSL_CERT_PATH=/etc/ssl/certs/blytz.app.crt
SSL_KEY_PATH=/etc/ssl/private/blytz.app.key

# ===========================================
# INSTRUCTIONS
# ===========================================
# 
# 1. REQUIRED FOR PRODUCTION:
#    - POSTGRES_PASSWORD (strong password)
#    - JWT_SECRET (32+ chars random string)
#    - BETTER_AUTH_SECRET (32+ chars random string)
#    - FIUU_MERCHANT_ID (from Fiuu dashboard)
#    - FIUU_VERIFY_KEY (from Fiuu dashboard)
#    - LIVEKIT_API_KEY & LIVEKIT_API_SECRET (from LiveKit dashboard)
#    - LIVEKIT_HOST (from LiveKit dashboard)
#
# 2. STORE IN SECRETS MANAGER:
#    - Use AWS Secrets Manager, HashiCorp Vault, or similar
#    - Never commit secrets to Git
#    - Rotate secrets regularly
#
# 3. FIUU DASHBOARD CONFIGURATION:
#    - Login to https://merchant.fiuu.com.my
#    - Set Return URL: https://blytz.app/checkout/success
#    - Set Cancel URL: https://blytz.app/checkout/cancel
#    - Set Callback URL: https://api.blytz.app/api/v1/payments/webhook/fiuu
#    - Configure allowed payment methods (FPX, Touch 'n Go, etc.)
#
# 4. LIVEKIT CONFIGURATION:
#    - Create account at https://cloud.livekit.io
#    - Create new project
#    - Get API key, secret, and host URL
#    - Configure webhook for room events
#
# 5. SECURITY BEST PRACTICES:
#    - Use strong, unique passwords
#    - Enable 2FA on all external services
#    - Regularly rotate secrets
#    - Monitor for unauthorized access
#    - Keep dependencies updated
#
# ===========================================